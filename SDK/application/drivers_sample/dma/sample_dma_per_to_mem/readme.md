# 配置DMA外设到内存传输，传输完成进入中断回调函数
## 关键字: DMA, 外设到内存, 中断

**【功能描述】**
+ 示例代码基于HAL接口完成时钟、中断和DMA控制器初始化和功能配置。从外设uart rx到内存，使用DMA搬运，搬运结束后触发DMA中断。

**【示例配置】**
+ “HAL_DMA_Init()”接口配置DMA源和目的大小端、中断进行初始化，“HAL_DMA_InitChannel()”进行通道初始化配置。

+ 将搬运的源端地址和目的端地址传入“HAL_DMA_StartIT()”接口，搬运的数据长度和DMA的通道号也作为入参传递进去，调用完成之后要发送uart rx DMA请求。

+ 当DMA传输完成，“DMA_PeriphToMemFinish()”中断回调函数中打印log，并且再次调用“HAL_DMA_StartIT()”接口进行下一次搬运，调用完成后发送uart rx DMA请求。

**【示例效果】**
+ 当用户烧录编译后的示例代码后，初始化和配置完成后。在串口助手上发送数据，DMA搬运结束后，会上报中断，在中断函数中打印传输完成log，查看数据是否正确。

**【注意事项】**
+ 如果要在串口助手上发送数据进行DMA搬运到内存，要设置外设为对应的uart串口。