# 对接ADC芯片kta7953，通过SPI中的DMA方式读取ADC各个通道采样值
## 关键字: SPI, DMA, kta7953

**【功能描述】**
+ 示例代码基于HAL接口完成时钟、SPI控制器初始化和功能配置。SPI对接ADC芯片kta7953，不断读取ADC芯片kta7953各通道(ch0-ch6)的采样值，以手动模式操作ADC芯片kta7953各个通道，通过DMA方式进行数据搬运。

**【示例配置】**
+ 在"SystemInit()”接口中配置SPI时钟极性、时钟相位、帧格式等参数和DMA通道相关参数，其中SPI参数配置需根据对接的芯片进行相关参数配置。

+ 定义数组，数组中存放以手动操作模式读取各个通道采样值的命令。

+ 采用“HAL_SPI_WriteReadDMA()”进行ch0-ch6通道采样。执行十次后调用“Kta7953BuffPrintf()”打印结果值。

+ 编写回调函数代码，使用SPI的DMA方式搬运完成会调用回调函数。

**【示例效果】**
+ 当用户烧录编译后的示例代码后，初始化和配置完成后，示例代码通过串口打印的方式输出ADC芯片kta7953各通道的采样值，当每次DMA每次搬运完结果进入回调函数。

**【注意事项】**
+ 使用此示例代码必须外接ADC芯片kta7953。