# 配置GPIO的方向与电平功能，实现GPIO两个管脚的环回测试
## 关键字: GPIO, 管脚方向，管脚电平，环回测试

**【功能描述】**
+ 示例代码基于HAL接口完成时钟、GPIO控制器初始化和功能配置。在GPIO的回环测试中使用GPIO的两个管脚，一个用于输入信号，另一个用于输出信号，将两个GPIO管脚连接验证GPIO的电平和方向功能；然后将GPIO管脚的角色反转再进行方向和电平功能验证，实现环回测试。

**【示例配置】**
+ GPIO管脚选择：示例代码中选择了两个GPIO管脚用于环回测试。也可以选择其他GPIO管脚用于环回测试，在"GPIO_Init()"接口中的"g_gpiox.baseAddress"可以配置GPIOX（GPIO0-GPIO7中的任意一个）,g_gpiox.pins可以配置“GPIO_PIN_0-GPIO_PIN_7”中的任意一个。
  
+ GPIO管脚初始化：调用接口"HAL_GPIO_Init()”完成对示例代码中GPIO两个管脚的方向、电平、中断模式配置。在进行GPIO管脚配置时，需将其中一个管脚配置成输入模式、低电平、不使用中断模式，将另一个管脚配置成输出模式、低电平、不使用中断模式。

+ GPIO环回实验过程： 
    1. 对于输出管脚调用接口"HAL_GPIO_SetValue()"用于切换输出管脚的电平值，对于输入管脚调用接口"HAL_GPIO_GetPinValue()"实现对输入电平值的获取，比较输入管脚获取的电平与输出管脚输出的电平，测试管脚电平输出、电平输入功能；
    2. 调用接口"HAL_GPIO_SetDirection()"切换输入管脚与输出管脚的角色；
    3. 再执行步骤1，测试管脚的电平输出、电平输入功能。

**【示例效果】**
+ 当用户烧录编译后的示例代码后，初始化和配置完成后，示例代码中会依次对两个GPIO管脚进行方向、电平功能测试。功能正常时Debug串口打印成功log信息；功能异常时Debug串口打印失败log信息。

**【注意事项】**
+ 示例代码使用UART0进行结果打印输出，需要对UART0配置。
+ 示例代码中使用GPIO两个管脚需连接在一起。